#summary Engagementindex Pull service

<wiki:toc max_depth="2" />

= Introduktion Engagemangsindex Pull=

Engagemangsindex är ett index som visar var man kan hitta ytterligare information angående en individ, t.ex. vilken/vilka vårdcentraler denna har bokat tid hos. Detta index skall innehålla aktuell information och måste således uppdateras regelbundet. Pull funktionaliteten som beskrivs i detta dokument är endast till för de vårdsystem som inte själva kan uppdatera engagmangsindex. Funktionaliteten användas som en komponent till Mule ESB.

== Konceptuell beskrivning ==

För att pull-komponenten skall fungera korrekt måste tre tjänster vara tillgängliga.

  * Tjänsteadressering (itintegration:registry) `GetLogicalAddresseesByServiceContract`. Tjänsten returnerar en lista över logiska adressater som har en tjänsteproducent för angivet tjänstekontrakt (namnrymd)  och som har anropsbehörighet för angiven tjänstekonsument (hsa-id).
  * Engagemangsindex (itintegration:engagementindex) `GetUpdates`. Tjänst som Engagemangsindex använder för att hämta uppdateringar från ett källsystem (som alternativ till att källsystemet initierar uppdateringar med hjälp av Update-tjänsten).
  * Engagemangsindex (itintegration:engagementindex) Update. Tjänst som källsystemet använder för att uppdatera engagemangsindex.


1, Hämta de logiska adresser som skall användas för att adressera producenter där det finns engagemangsinformation. 

http://skltpservices.googlecode.com/svn/site/images/engagementindexPull/GetLogicalAddressees.png

2, Hämta uppdateringar från Tjänsteproducenten (källsystemet), ett anrop avser en tjänstedomän. Tjänsteproducenten skall svara med alla patienter vars engagemang förändrats sedan angiven tidpunkt inom tjänstedomänen.

http://skltpservices.googlecode.com/svn/site/images/engagementindexPull/GetUpdates.png

3, Uppdatera engagemangsindex.

http://skltpservices.googlecode.com/svn/site/images/engagementindexPull/Update.png