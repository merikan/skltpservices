#summary Transformation services for Apotekens Service

<wiki:toc max_depth="3" />

= Förutsättningar =

 * Java 1.6 eller senare är installerat. Se [http://www.oracle.com/technetwork/java/javase/index-137561.html http://www.oracle.com/technetwork/java/javase/index-137561.html] för nedladdning- och installationsanvisningar. Teknisk verifiering har dock endast gjorts med Java SE 6 Update 27.

 * Mule ESB 2.2.8 är installerad. Den här versionen är ej nedladningsbar från Mulesoft men kan byggas från källkod med hjälp av Maven. Källkoden för version 2.2.8 finns tillgänglig på [http://svn.codehaus.org/mule/tags/mule-2.2.8/ http://svn.codehaus.org/mule/tags/mule-2.2.8/]

= Bygga källkoden =

==Checka ut koden ==

Följ instruktionen på [https://code.google.com/p/skltpservices/source/checkout]

==Bygga från källkoden ==

{{{
cd ApotekensServiceAdapterService/trunk

mvn clean install
}}}

==Starta och verifiera  från källkoden ==

Det finns möjlighet att testa tjänsten lokalt genom att starta den med följande kommando

{{{
cd ApotekensServiceAdapterService/trunk/ApSeMedicalServicesAdapterIC

 mvn -pmuleServer
}}}

Om allt startar upp korrekt finns följande i konsol-loggen

{{{
**********************************************************************
* Mule ESB and Integration Platform                                  *
* Version: 2.2.8 Build: 25325                                        *
* MuleSoft, Inc.                                                     *
* For more information go to http://www.mulesoft.org                 *
*                                                                    *
* Server started: 9/17/13 9:46 PM                                    *
* Server ID: d778f043-1fd1-11e3-8cb9-01f7cb70d861                    *
* JDK: 1.6.0_51 (mixed mode)                                         *
* OS encoding: MacRoman, Mule encoding: UTF-8                        *
* OS: Mac OS X (10.8.4, x86_64)                                      *
* Host: xyz-abc.local (192.168.0.125)                          *
*                                                                    *
* Agents Running:                                                    *
*   JMX Agent                                                        *
**********************************************************************
}}}

Och med hjälp av soapUI projekt köra test-anrop. Importera ApSeMedicalServicesAdapter-soapui-project.xml som återfinns i roten på det utcheckade projektet. 

=Installation instructions mule 2.2.8=

==Runtime environment==

See [http://code.google.com/p/skltp/wiki/InstallationServiceBridge Adapterplatform]

==Download distribution==

[http://skltpservices.googlecode.com/files/ApSeMedicalServicesAdapter1_6_0.zip Download latest release]

==Build from source==

[https://code.google.com/p/skltpservices/source/checkout Instructions how to checkout source]

 # `Build AdapterServices/riv.se_apotekensservice/TicketMachine`
 # `Build AdapterServices/riv.se_apotekensservice/ApotekensServiceAdapterService`

How to build Ticketmachine in trunk
{{{
cd AdapterServices/riv.se_apotekensservice/TicketMachine/trunk
mvn clean install 
}}}


How to build `ApotekensServiceAdapterService` in trunk
{{{
cd AdapterServices/riv.se_apotekensservice/ApotekensServiceAdapterService/trunk
mvn clean install 
}}}

==Deploy/Undeploy distribution==

Download distribution above.

 * Extract services to `<adapter platform>/services`
 * Extract user to `<MULE_HOME>lib/user`

==Configuration==

[http://skltpservices.googlecode.com/svn/AdapterServices/riv.se_apotekensservice/ApotekensServiceAdapterService/trunk/ApSeMedicalServicesAdapterIC/src/environment/ Config files]